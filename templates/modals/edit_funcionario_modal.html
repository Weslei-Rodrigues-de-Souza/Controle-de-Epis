<div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title">
            <i class="fas fa-edit"></i> Editar Funcionário
        </h5>
        <button type="button" class="close" onclick="closeModal('editFuncionarioModal')">&times;</button>
    </div>
    <div class="modal-body">
        <form id="editFuncionarioForm" method="POST" action="/funcionario/{{ funcionario.id }}">
            {{ form.hidden_tag() }}
            <input type="hidden" name="_method" value="PUT">
            
            <!-- Dados Pessoais -->
            <h6 class="text-primary mb-3"><i class="fas fa-user"></i> Dados Pessoais</h6>
            <div class="row">
                <div class="col-md-8">
                    <div class="form-group">
                        {{ form.nome.label(class="form-label") }}
                        {{ form.nome(class="form-control", value=funcionario.nome) }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.cpf.label(class="form-label") }}
                        {{ form.cpf(class="form-control", value=funcionario.cpf) }}
                    </div>
                </div>
            </div>
            
            <!-- Documentos -->
            <h6 class="text-primary mb-3"><i class="fas fa-id-card"></i> Documentos</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group">
                        {{ form.rg.label(class="form-label") }}
                        {{ form.rg(class="form-control", value=funcionario.rg) }}
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        {{ form.ctps.label(class="form-label") }}
                        {{ form.ctps(class="form-control", value=funcionario.ctps) }}
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        {{ form.serie.label(class="form-label") }}
                        {{ form.serie(class="form-control", value=funcionario.serie) }}
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        {{ form.pis.label(class="form-label") }}
                        {{ form.pis(class="form-control", value=funcionario.pis) }}
                    </div>
                </div>
            </div>

            <!-- Dados Funcionais -->
            <h6 class="text-primary mb-3"><i class="fas fa-briefcase"></i> Dados Funcionais</h6>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.secao_setor.label(class="form-label") }}
                        {{ form.secao_setor(class="form-control", value=funcionario.secao_setor) }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ form.data_admissao.label(class="form-label") }}
                        {{ form.data_admissao(class="form-control", value=funcionario.data_admissao.strftime('%Y-%m-%d') if funcionario.data_admissao else '') }}
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        {{ form.departamento_id.label(class="form-label") }}
                        <select name="departamento_id" class="form-control">
                            {% for value, label in form.departamento_id.choices %}
                                <option value="{{ value }}" {% if value == funcionario.departamento_id %}selected{% endif %}>{{ label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        {{ form.funcao_id.label(class="form-label") }}
                        <select name="funcao_id" class="form-control">
                            {% for value, label in form.funcao_id.choices %}
                                <option value="{{ value }}" {% if value == funcionario.funcao_id %}selected{% endif %}>{{ label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('editFuncionarioModal')">Cancelar</button>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Atualizar Funcionário
                </button>
            </div>
        </form>
    </div>
</div>
